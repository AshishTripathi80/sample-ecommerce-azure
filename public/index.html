<!DOCTYPE html>
<html>
<head>
  <title>Sample E-Commerce</title>
</head>
<body>
  <h1>Welcome to Sample E-Commerce</h1>
  <p>Here are some products:</p>
  <ul id="product-list"></ul>

  <h3>Product Image (from Blob Storage later):</h3>
  <img src="https://ecommercestorageashish.blob.core.windows.net/product-images/Laptop.jpg?sp=r&st=2025-09-07T06:02:35Z&se=2025-09-14T14:17:35Z&spr=https&sv=2024-11-04&sr=b&sig=Gjpm0cisplGu4Dms3h9a88f7vE%2B%2FYM5W6du1ewdA0Sw%3D" width="200" />

  <script>
    fetch("/api/products")
      .then(res => res.json())
      .then(products => {
        console.log('Products received:', products); // Debug log
        const list = document.getElementById("product-list");
        products.forEach(p => {
          console.log('Product:', p); // Debug log
          const item = document.createElement("li");
          // Try different possible column names
          const name = p.name || p.Name || p.ProductName || p.product_name || 'Unknown Product';
          const price = p.price || p.Price || p.ProductPrice || p.product_price || 'N/A';
          item.textContent = `${name} - $${price}`;
          list.appendChild(item);
        });
      })
      .catch(err => {
        console.error('Error fetching products:', err);
        const list = document.getElementById("product-list");
        list.innerHTML = '<li>Error loading products</li>';
      });
  </script>
</body>
</html>